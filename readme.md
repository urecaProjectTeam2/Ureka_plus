##주제
대용량 통신 요금 명세서 및 알림 발송 시스템

##기능
Ureka Plus는 정산 처리와 고객 메시지 발송을 분리하여 운영 안정성과 데이터 정합성을 보장하는 백엔드 시스템이다. 이 시스템은 정산 서버, 메시지 서버, 그리고 이를 제어하는 관리자 서버로 구성되어 있으며, 각 서버는 독립적으로 동작하면서 Kafka를 통해 연결된다.

정산 데이터의 유일한 기준은 Batch Server이다. 모든 요금 계산과 정산 결과는 Batch Server에서 생성되며, 데이터베이스에 정상적으로 커밋된 이후에만 Kafka로 “정산 완료” 이벤트가 발행된다. 따라서 Kafka를 통해 전달되는 모든 데이터는 이미 확정된 값이며, 중간 상태나 실패 데이터는 외부로 노출되지 않는다.

Message Server는 Kafka 이벤트를 받아 실제 이메일이나 문자, 푸시 메시지를 발송한다. 이 서버는 자체 데이터베이스를 이용해 중복 발송을 방지하며, 동일한 정산 이벤트가 여러 번 들어와도 한 번만 처리하도록 설계되어 있다. 메시지 발송 결과는 모두 기록되며, 실패한 건은 운영자가 재시도할 수 있다.

Admin Server는 운영 전용 서버로, 배치 실행 상태와 메시지 발송 상태를 조회하고, 시작·중지·재시도 같은 제어 명령을 각 서버에 전달한다. 모든 제어는 명령 ID 기반으로 처리되어 중복 요청이 들어와도 실제 실행은 한 번만 이루어진다.

이 구조의 핵심 목표는 “정산은 정확하게 한 번, 메시지는 중복 없이 전달”이다. 자동 재시도나 암묵적인 복구에 의존하지 않고, 모든 실행과 실패를 명확한 상태로 기록하고 운영자가 통제할 수 있도록 설계된 것이 Ureka Plus의 가장 큰 특징이다.


##기술 스택

##프로젝트 구조


## 플로우차트
<img width="15245" height="9216" alt="image" src="https://github.com/user-attachments/assets/a427d5cb-029c-4b71-9a3b-632f30ff6024" />

- batch 서버
<img width="2635" height="2600" alt="워크플로우-half" src="https://github.com/user-attachments/assets/f6b02faa-1551-4fdc-ae33-240978de9d9a" />

- message 서버
<img width="2971" height="1936" alt="워크플로우-2" src="https://github.com/user-attachments/assets/0694ba33-048b-4bb3-8b4c-89372b018b3f" />
